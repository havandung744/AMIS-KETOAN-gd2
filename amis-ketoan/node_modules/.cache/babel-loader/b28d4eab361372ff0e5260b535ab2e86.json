{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  props: [\"employeeIdForDelete\", \"pageNumberSelected\", \"pageSize\"],\n  name: \"DialogDelete\",\n\n  data() {\n    return {\n      employees: {}\n    };\n  },\n\n  methods: {\n    async btnSaveOnClick() {\n      var me = this; //   hiển thị loading\n\n      await axios.delete( // `https://amis.manhnv.net/api/v1/Employees/${me.employeeIdForDelete}`\n      `http://localhost:22454/api/v1/Employees/${me.employeeIdForDelete}`).then(function (res) {\n        console.log(res);\n      }).catch(function (res) {\n        console.log(res);\n      }); //   thay đổi lại giá trị employees\n      // await axios\n      //   .get(`https://amis.manhnv.net/api/v1/Employees`)\n      //   .get(`http://localhost:22454/api/v1/Employees`)\n      //   .then(function (res) {\n      //     me.employees = res.data;\n      //     me.$emit(\"changeValueEmployees\", me.employees);\n      //   })\n      //   .catch(function (res) {\n      //     console.log(res);\n      //   });\n      // thực hiện loadding lại dữ liệu\n\n      try {\n        me.isLoading = true;\n        await axios // .get(`https://amis.manhnv.net/api/v1/Employees/filter?pageSize=10&pageNumber=1`)\n        .get(`http://localhost:22454/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumberSelected}`).then(response => {\n          me.employees = response.data.Data;\n          me.$emit(\"changeValueEmployees\", me.employees); // me.$emit(\"pageNumber\", 1);\n        }).catch(function (error) {\n          console.log(error);\n        });\n        me.isLoading = false;\n      } catch (error) {\n        me.isLoading = false;\n        console.log(error);\n      } //ẩn form dialogDelete\n\n\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\"; //ẩn loading\n\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\n    },\n\n    btnCloseOnClick() {\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACVC,KAAK,EAAE,CAAC,qBAAD,EAAwB,oBAAxB,EAA8C,UAA9C,CADG;EAEbC,IAAI,EAAE,cAFO;;EAGbC,IAAI,GAAG;IACL,OAAO;MACAC,SAAS,EAAE;IADX,CAAP;EAGD,CAPY;;EAQbC,OAAO,EAAE;IACR,MAAMC,cAAN,GAAsB;MAChB,IAAIC,EAAC,GAAI,IAAT,CADgB,CAErB;;MACE,MAAMP,KAAI,CACPQ,MADG,EAEF;MACC,2CAA0CD,EAAE,CAACE,mBAAoB,EAHhE,EAKHC,IALG,CAKE,UAAUC,GAAV,EAAe;QACnBC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACD,CAPG,EAQHG,KARG,CAQG,UAAUH,GAAV,EAAe;QACpBC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACD,CAVG,CAAN,CAHmB,CAerB;MACE;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEF;;MACI,IAAI;QACJJ,EAAE,CAACQ,SAAH,GAAe,IAAf;QACF,MAAMf,KAAI,CACR;QADQ,CAEPgB,GAFG,CAEE,2DAA0DT,EAAE,CAACU,QAAS,eAAcV,EAAE,CAACW,kBAAmB,EAF5G,EAGHR,IAHG,CAGGS,QAAD,IAAc;UAClBZ,EAAE,CAACH,SAAH,GAAee,QAAQ,CAAChB,IAAT,CAAciB,IAA7B;UACAb,EAAE,CAACc,KAAH,CAAS,sBAAT,EAAiCd,EAAE,CAACH,SAApC,EAFkB,CAGlB;QACD,CAPG,EAQHU,KARG,CAQG,UAAUQ,KAAV,EAAiB;UACtBV,OAAO,CAACC,GAAR,CAAYS,KAAZ;QACD,CAVG,CAAN;QAWAf,EAAE,CAACQ,SAAH,GAAe,KAAf;MACF,CAdI,CAcF,OAAOO,KAAP,EAAc;QACdf,EAAE,CAACQ,SAAH,GAAe,KAAf;QACAH,OAAO,CAACC,GAAR,CAAYS,KAAZ;MACF,CA7CqB,CA8CrB;;;MACEC,QAAQ,CAACC,sBAAT,CAAgC,qBAAhC,EAAuD,CAAvD,EAA0DC,KAA1D,CAAgEC,OAAhE,GAA0E,MAA1E,CA/CmB,CAgDrB;;MACEH,QAAQ,CAACC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,EAA8CC,KAA9C,CAAoDC,OAApD,GAA8D,MAA9D;IACD,CAnDM;;IAoDPC,eAAe,GAAG;MAChBJ,QAAQ,CAACC,sBAAT,CAAgC,qBAAhC,EAAuD,CAAvD,EAA0DC,KAA1D,CAAgEC,OAAhE,GAA0E,MAA1E;IACD;;EAtDM;AARI,CAAf","names":["axios","props","name","data","employees","methods","btnSaveOnClick","me","delete","employeeIdForDelete","then","res","console","log","catch","isLoading","get","pageSize","pageNumberSelected","response","Data","$emit","error","document","getElementsByClassName","style","display","btnCloseOnClick"],"sourceRoot":"","sources":["C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\DialogDelete.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-dialog-box-delete\">\r\n    <div class=\"d-dialog\">\r\n      <div class=\"d-dialog-header\"></div>\r\n      <div class=\"d-dialog-content-box\">\r\n        <div class=\"d-dialog-icon-warning\">\r\n          <div class=\"icon_warning\"></div>\r\n        </div>\r\n        <div class=\"d-dialog-body\">content</div>\r\n      </div>\r\n      <div class=\"d-dialog-footer\">\r\n        <div class=\"d-dialog-footer-line\"></div>\r\n          <button class=\"d-btn\" id=\"d-save\" @click=\"btnCloseOnClick\">Không</button>\r\n          <button class=\"d-btn\" id=\"d-save\" @click=\"btnSaveOnClick\">Có</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n     props: [\"employeeIdForDelete\", \"pageNumberSelected\", \"pageSize\"],\r\n  name: \"DialogDelete\",\r\n  data() {\r\n    return {\r\n           employees: {},\r\n    };\r\n  },\r\n  methods: {\r\n   async btnSaveOnClick(){\r\n         var me = this;\r\n    //   hiển thị loading\r\n      await axios\r\n        .delete(\r\n          // `https://amis.manhnv.net/api/v1/Employees/${me.employeeIdForDelete}`\r\n          `http://localhost:22454/api/v1/Employees/${me.employeeIdForDelete}`\r\n        )\r\n        .then(function (res) {\r\n          console.log(res);\r\n        })  \r\n        .catch(function (res) {\r\n          console.log(res);\r\n        });\r\n\r\n    //   thay đổi lại giá trị employees\r\n      // await axios\r\n      //   .get(`https://amis.manhnv.net/api/v1/Employees`)\r\n      //   .get(`http://localhost:22454/api/v1/Employees`)\r\n      //   .then(function (res) {\r\n      //     me.employees = res.data;\r\n      //     me.$emit(\"changeValueEmployees\", me.employees);\r\n      //   })\r\n      //   .catch(function (res) {\r\n      //     console.log(res);\r\n      //   });\r\n\r\n    // thực hiện loadding lại dữ liệu\r\n        try {\r\n        me.isLoading = true;\r\n      await axios\r\n        // .get(`https://amis.manhnv.net/api/v1/Employees/filter?pageSize=10&pageNumber=1`)\r\n        .get(`http://localhost:22454/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumberSelected}`)\r\n        .then((response) => {\r\n          me.employees = response.data.Data;\r\n          me.$emit(\"changeValueEmployees\", me.employees);\r\n          // me.$emit(\"pageNumber\", 1);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n      me.isLoading = false;\r\n    } catch (error) {\r\n      me.isLoading = false;\r\n      console.log(error);\r\n    }\r\n    //ẩn form dialogDelete\r\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\r\n    //ẩn loading\r\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\r\n    },\r\n    btnCloseOnClick() {\r\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../../style/css/icon/icon.css\");\r\n.d-dialog-box-delete{\r\n    display: none;\r\n}\r\n</style>>"]},"metadata":{},"sourceType":"module"}