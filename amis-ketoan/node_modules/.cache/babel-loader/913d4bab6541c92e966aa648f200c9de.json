{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  props: [\"employeeIdForDelete\", \"arrayEmployeeId\", \"pageNumberSelected\", \"pageSize\", \"textSearch\", \"bankName\", \"gender\", \"departmentId\"],\n  name: \"DialogDelete\",\n  methods: {\n    /**\r\n     * Thực hiện xóa dữ liệu\r\n     * Author: HVDUNG (05/06/2022)\r\n     */\n    async btnSaveOnClick() {\n      var me = this; // Thực hiện chuyển mảng id về dạng chuỗi\n\n      try {\n        var employeeIds;\n\n        if (me.employeeIdForDelete == null) {\n          employeeIds = me.arrayEmployeeId.toString();\n        } else {\n          employeeIds = me.employeeIdForDelete;\n        }\n\n        await axios.delete(`http://localhost:22454/api/v1/Employees/DeleteMultiEmployee?employeeIdList=${employeeIds}`).then(response => {\n          console.log(response); // thực hiện hide checked sau khi xóa nhiều\n\n          document.getElementById('checkAll').checked = false;\n          me.$emit(\"arrayEmployeeId\", []);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } catch (error) {\n        me.isLoading = false;\n        console.log(error);\n      } // var me = this;\n      // await axios\n      //   .delete(\n      //     `http://localhost:22454/api/v1/Employees/${me.employeeIdForDelete}`\n      //   )\n      //   .then(function (res) {\n      //     console.log(res);\n      //   })\n      //   .catch(function (res) {\n      //     console.log(res);\n      //   });\n      // thực hiện loadding lại dữ liệu\n\n\n      try {\n        //hiện loading\n        document.getElementsByClassName(\"loading\")[0].style.display = \"block\";\n        await axios.get(`http://localhost:22454/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumberSelected}&employeeFilter=${me.textSearch}\n          &bankName=${me.bankName}&gender=${me.gender}&departmentId=${me.departmentId}`).then(response => {\n          me.employees = response.data.Data;\n          me.$emit(\"changeValueEmployees\", me.employees);\n          me.$emit(\"changeCount\", response.data.TotalRecords);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } catch (error) {\n        console.log(error);\n      } //ẩn form dialogDelete\n\n\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\"; //ẩn loading\n\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\n    },\n\n    /**\r\n     * Thực hiện đóng form xóa\r\n     * Author: HVDUNG (25/06/2022)\r\n     */\n    btnCloseOnClick() {\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,KAAK,EAAE,CAAC,qBAAD,EAAuB,iBAAvB,EAA0C,oBAA1C,EAAgE,UAAhE,EAA4E,YAA5E,EAA0F,UAA1F,EAAsG,QAAtG,EAAgH,cAAhH,CADM;EAEbC,IAAI,EAAE,cAFO;EAGbC,OAAO,EAAE;IACP;;;;IAIA,MAAMC,cAAN,GAAuB;MAErB,IAAIC,EAAC,GAAI,IAAT,CAFqB,CAGrB;;MACA,IAAI;QACF,IAAIC,WAAJ;;QACA,IAAGD,EAAE,CAACE,mBAAH,IAAwB,IAA3B,EAAgC;UAC9BD,WAAU,GAAID,EAAE,CAACG,eAAH,CAAmBC,QAAnB,EAAd;QACF,CAFA,MAGI;UACHH,WAAU,GAAID,EAAE,CAACE,mBAAjB;QACD;;QACA,MAAMP,KAAI,CACPU,MADG,CACK,8EAA6EJ,WAAY,EAD9F,EAEHK,IAFG,CAEGC,QAAD,IAAc;UAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EADkB,CAElB;;UACCG,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,OAApC,GAA4C,KAA5C;UACAZ,EAAE,CAACa,KAAH,CAAS,iBAAT,EAA2B,EAA3B;QACF,CAPG,EAQHC,KARG,CAQG,UAAUC,KAAV,EAAiB;UACtBP,OAAO,CAACC,GAAR,CAAYM,KAAZ;QACD,CAVG,CAAN;MAWF,CAnBA,CAmBE,OAAOA,KAAP,EAAc;QACdf,EAAE,CAACgB,SAAH,GAAe,KAAf;QACAR,OAAO,CAACC,GAAR,CAAYM,KAAZ;MACF,CA1BqB,CA2BrB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;;;MACA,IAAI;QACF;QACAL,QAAQ,CAACO,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,EAA8CC,KAA9C,CAAoDC,OAApD,GAA8D,OAA9D;QACA,MAAMxB,KAAI,CACPyB,GADG,CACE,2DAA0DpB,EAAE,CAACqB,QAAS,eAAcrB,EAAE,CAACsB,kBAAmB,mBAAkBtB,EAAE,CAACuB,UAAU;sBACnIvB,EAAE,CAACwB,QAAS,WAAUxB,EAAE,CAACyB,MAAO,iBAAgBzB,EAAE,CAAC0B,YAAa,EAFxE,EAGHpB,IAHG,CAGGC,QAAD,IAAc;UAClBP,EAAE,CAAC2B,SAAH,GAAepB,QAAQ,CAACqB,IAAT,CAAcC,IAA7B;UACA7B,EAAE,CAACa,KAAH,CAAS,sBAAT,EAAiCb,EAAE,CAAC2B,SAApC;UACA3B,EAAE,CAACa,KAAH,CAAS,aAAT,EAAwBN,QAAQ,CAACqB,IAAT,CAAcE,YAAtC;QACD,CAPG,EAQHhB,KARG,CAQG,UAAUC,KAAV,EAAiB;UACtBP,OAAO,CAACC,GAAR,CAAYM,KAAZ;QACD,CAVG,CAAN;MAWF,CAdA,CAcE,OAAOA,KAAP,EAAc;QACdP,OAAO,CAACC,GAAR,CAAYM,KAAZ;MACF,CAxDqB,CAyDrB;;;MACAL,QAAQ,CAACO,sBAAT,CAAgC,qBAAhC,EAAuD,CAAvD,EAA0DC,KAA1D,CAAgEC,OAAhE,GAA0E,MAA1E,CA1DqB,CA2DrB;;MACAT,QAAQ,CAACO,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,EAA8CC,KAA9C,CAAoDC,OAApD,GAA8D,MAA9D;IACD,CAlEM;;IAoEP;;;;IAIAY,eAAe,GAAG;MAChBrB,QAAQ,CAACO,sBAAT,CAAgC,qBAAhC,EAAuD,CAAvD,EAA0DC,KAA1D,CAAgEC,OAAhE,GAA0E,MAA1E;IACD;;EA1EM;AAHI,CAAf","names":["axios","props","name","methods","btnSaveOnClick","me","employeeIds","employeeIdForDelete","arrayEmployeeId","toString","delete","then","response","console","log","document","getElementById","checked","$emit","catch","error","isLoading","getElementsByClassName","style","display","get","pageSize","pageNumberSelected","textSearch","bankName","gender","departmentId","employees","data","Data","TotalRecords","btnCloseOnClick"],"sourceRoot":"","sources":["C:\\Misa\\git\\AMIS-KETOAN-gd2\\amis-ketoan\\src\\components\\dialog\\DialogDelete.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-dialog-box-delete\">\r\n    <div class=\"d-dialog\">\r\n      <div class=\"d-dialog-header\"></div>\r\n      <div class=\"d-dialog-content-box\">\r\n        <div class=\"d-dialog-icon-warning\">\r\n          <div class=\"icon_warning\"></div>\r\n        </div>\r\n        <div class=\"d-dialog-body\">content</div>\r\n      </div>\r\n      <div class=\"d-dialog-footer\">\r\n        <div class=\"d-dialog-footer-line\"></div>\r\n        <button class=\"d-btn\" id=\"d-save\" @click=\"btnCloseOnClick\">Không</button>\r\n        <button class=\"d-btn\" id=\"d-save\" @click=\"btnSaveOnClick\">Có</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  props: [\"employeeIdForDelete\",\"arrayEmployeeId\", \"pageNumberSelected\", \"pageSize\", \"textSearch\", \"bankName\", \"gender\", \"departmentId\"],\r\n  name: \"DialogDelete\",\r\n  methods: {\r\n    /**\r\n     * Thực hiện xóa dữ liệu\r\n     * Author: HVDUNG (05/06/2022)\r\n     */\r\n    async btnSaveOnClick() {\r\n\r\n      var me = this;\r\n      // Thực hiện chuyển mảng id về dạng chuỗi\r\n      try {\r\n        var employeeIds;\r\n        if(me.employeeIdForDelete==null){\r\n          employeeIds = me.arrayEmployeeId.toString();\r\n        }\r\n        else{\r\n         employeeIds = me.employeeIdForDelete;\r\n        }\r\n        await axios\r\n          .delete(`http://localhost:22454/api/v1/Employees/DeleteMultiEmployee?employeeIdList=${employeeIds}`)\r\n          .then((response) => {\r\n            console.log(response);\r\n            // thực hiện hide checked sau khi xóa nhiều\r\n             document.getElementById('checkAll').checked=false;\r\n             me.$emit(\"arrayEmployeeId\",[]);\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      } catch (error) {\r\n        me.isLoading = false;\r\n        console.log(error);\r\n      }\r\n      // var me = this;\r\n      // await axios\r\n      //   .delete(\r\n      //     `http://localhost:22454/api/v1/Employees/${me.employeeIdForDelete}`\r\n      //   )\r\n      //   .then(function (res) {\r\n      //     console.log(res);\r\n      //   })\r\n      //   .catch(function (res) {\r\n      //     console.log(res);\r\n      //   });\r\n\r\n      // thực hiện loadding lại dữ liệu\r\n      try {\r\n        //hiện loading\r\n        document.getElementsByClassName(\"loading\")[0].style.display = \"block\";\r\n        await axios\r\n          .get(`http://localhost:22454/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumberSelected}&employeeFilter=${me.textSearch}\r\n          &bankName=${me.bankName}&gender=${me.gender}&departmentId=${me.departmentId}`)\r\n          .then((response) => {\r\n            me.employees = response.data.Data;\r\n            me.$emit(\"changeValueEmployees\", me.employees);\r\n            me.$emit(\"changeCount\", response.data.TotalRecords);\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      //ẩn form dialogDelete\r\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\r\n      //ẩn loading\r\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\r\n    },\r\n\r\n    /**\r\n     * Thực hiện đóng form xóa\r\n     * Author: HVDUNG (25/06/2022)\r\n     */\r\n    btnCloseOnClick() {\r\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../../style/css/icon/icon.css\");\r\n\r\n.d-dialog-box-delete {\r\n  display: none;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(177, 177, 177, 0.397);\r\n  z-index: 100;\r\n}\r\n\r\n.d-dialog-body {\r\n  margin-top: 20px;\r\n}\r\n</style>>"]},"metadata":{},"sourceType":"module"}