{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  props: [\"employeeIdForDelete\", \"pageNumberSelected\", \"pageSize\", \"textSearch\"],\n  name: \"DialogDelete\",\n\n  data() {\n    return {\n      employees: {}\n    };\n  },\n\n  methods: {\n    async btnSaveOnClick() {\n      //hiện loading\n      document.getElementsByClassName(\"loading\")[0].style.display = \"block\";\n      var me = this;\n      await axios.delete(`http://localhost:22454/api/v1/Employees/${me.employeeIdForDelete}`).then(function (res) {\n        console.log(res);\n      }).catch(function (res) {\n        console.log(res);\n      }); // thực hiện loadding lại dữ liệu\n\n      try {\n        await axios.get(`http://localhost:22454/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumberSelected}&employeeFilter=${me.textSearch}`).then(response => {\n          me.employees = response.data.Data;\n          me.$emit(\"changeValueEmployees\", me.employees);\n          me.$emit(\"changeCount\", response.data.TotalRecords);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } catch (error) {\n        console.log(error);\n      } //ẩn form dialogDelete\n\n\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\"; //ẩn loading\n\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\n    },\n\n    btnCloseOnClick() {\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,KAAK,EAAE,CAAC,qBAAD,EAAwB,oBAAxB,EAA8C,UAA9C,EAA0D,YAA1D,CADM;EAEbC,IAAI,EAAE,cAFO;;EAGbC,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE;IADN,CAAP;EAGD,CAPY;;EAQbC,OAAO,EAAE;IACP,MAAMC,cAAN,GAAuB;MACnB;MACAC,QAAQ,CAACC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,EAA8CC,KAA9C,CAAoDC,OAApD,GAA8D,OAA9D;MACF,IAAIC,EAAC,GAAI,IAAT;MACA,MAAMX,KAAI,CACPY,MADG,CAED,2CAA0CD,EAAE,CAACE,mBAAoB,EAFhE,EAIHC,IAJG,CAIE,UAAUC,GAAV,EAAe;QACnBC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACD,CANG,EAOHG,KAPG,CAOG,UAAUH,GAAV,EAAe;QACpBC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACD,CATG,CAAN,CAJqB,CAerB;;MACA,IAAI;QACF,MAAMf,KAAI,CACPmB,GADG,CACE,2DAA0DR,EAAE,CAACS,QAAS,eAAcT,EAAE,CAACU,kBAAmB,mBAAkBV,EAAE,CAACW,UAAW,EAD5I,EAEHR,IAFG,CAEGS,QAAD,IAAc;UAClBZ,EAAE,CAACP,SAAH,GAAemB,QAAQ,CAACpB,IAAT,CAAcqB,IAA7B;UACAb,EAAE,CAACc,KAAH,CAAS,sBAAT,EAAiCd,EAAE,CAACP,SAApC;UACAO,EAAE,CAACc,KAAH,CAAS,aAAT,EAAwBF,QAAQ,CAACpB,IAAT,CAAcuB,YAAtC;QAED,CAPG,EAQHR,KARG,CAQG,UAAUS,KAAV,EAAiB;UACtBX,OAAO,CAACC,GAAR,CAAYU,KAAZ;QACD,CAVG,CAAN;MAWF,CAZA,CAYE,OAAOA,KAAP,EAAc;QACdX,OAAO,CAACC,GAAR,CAAYU,KAAZ;MACF,CA9BqB,CA+BrB;;;MACApB,QAAQ,CAACC,sBAAT,CAAgC,qBAAhC,EAAuD,CAAvD,EAA0DC,KAA1D,CAAgEC,OAAhE,GAA0E,MAA1E,CAhCqB,CAiCrB;;MACAH,QAAQ,CAACC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,EAA8CC,KAA9C,CAAoDC,OAApD,GAA8D,MAA9D;IACD,CApCM;;IAqCPkB,eAAe,GAAG;MAChBrB,QAAQ,CAACC,sBAAT,CAAgC,qBAAhC,EAAuD,CAAvD,EAA0DC,KAA1D,CAAgEC,OAAhE,GAA0E,MAA1E;IACD;;EAvCM;AARI,CAAf","names":["axios","props","name","data","employees","methods","btnSaveOnClick","document","getElementsByClassName","style","display","me","delete","employeeIdForDelete","then","res","console","log","catch","get","pageSize","pageNumberSelected","textSearch","response","Data","$emit","TotalRecords","error","btnCloseOnClick"],"sourceRoot":"","sources":["C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\dialog\\DialogDelete.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-dialog-box-delete\">\r\n    <div class=\"d-dialog\">\r\n      <div class=\"d-dialog-header\"></div>\r\n      <div class=\"d-dialog-content-box\">\r\n        <div class=\"d-dialog-icon-warning\">\r\n          <div class=\"icon_warning\"></div>\r\n        </div>\r\n        <div class=\"d-dialog-body\">content</div>\r\n      </div>\r\n      <div class=\"d-dialog-footer\">\r\n        <div class=\"d-dialog-footer-line\"></div>\r\n        <button class=\"d-btn\" id=\"d-save\" @click=\"btnCloseOnClick\">Không</button>\r\n        <button class=\"d-btn\" id=\"d-save\" @click=\"btnSaveOnClick\">Có</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  props: [\"employeeIdForDelete\", \"pageNumberSelected\", \"pageSize\", \"textSearch\"],\r\n  name: \"DialogDelete\",\r\n  data() {\r\n    return {\r\n      employees: {},\r\n    };\r\n  },\r\n  methods: {\r\n    async btnSaveOnClick() {\r\n        //hiện loading\r\n        document.getElementsByClassName(\"loading\")[0].style.display = \"block\";\r\n      var me = this;\r\n      await axios\r\n        .delete(\r\n          `http://localhost:22454/api/v1/Employees/${me.employeeIdForDelete}`\r\n        )\r\n        .then(function (res) {\r\n          console.log(res);\r\n        })\r\n        .catch(function (res) {\r\n          console.log(res);\r\n        });\r\n\r\n      // thực hiện loadding lại dữ liệu\r\n      try {\r\n        await axios\r\n          .get(`http://localhost:22454/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumberSelected}&employeeFilter=${me.textSearch}`)\r\n          .then((response) => {\r\n            me.employees = response.data.Data;\r\n            me.$emit(\"changeValueEmployees\", me.employees);\r\n            me.$emit(\"changeCount\", response.data.TotalRecords);\r\n\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      //ẩn form dialogDelete\r\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\r\n      //ẩn loading\r\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\r\n    },\r\n    btnCloseOnClick() {\r\n      document.getElementsByClassName(\"d-dialog-box-delete\")[0].style.display = \"none\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../../style/css/icon/icon.css\");\r\n\r\n.d-dialog-box-delete {\r\n  display: none;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(177, 177, 177, 0.397);\r\n  z-index: 100;\r\n}\r\n\r\n.d-dialog-body{\r\n  margin-top: 20px;\r\n}\r\n\r\n</style>>"]},"metadata":{},"sourceType":"module"}