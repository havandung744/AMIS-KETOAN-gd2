[{"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\main.js":"1","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\App.vue":"2","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\js\\router.js":"3","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\EmployeeList.vue":"4","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\HomeList.vue":"5","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\TheContent.vue":"6","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\TheHeader.vue":"7","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\TheNavbar.vue":"8","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\DropDownList.vue":"9","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\EmployeeDetail.vue":"10","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\DialogNotice.vue":"11"},{"size":212,"mtime":1654414144562,"results":"12","hashOfConfig":"13"},{"size":409,"mtime":1653812990138,"results":"14","hashOfConfig":"13"},{"size":620,"mtime":1653964664275,"results":"15","hashOfConfig":"13"},{"size":13003,"mtime":1654414025332,"results":"16","hashOfConfig":"13"},{"size":0,"mtime":1653735628938,"results":"17","hashOfConfig":"13"},{"size":173,"mtime":1653735419647,"results":"18","hashOfConfig":"13"},{"size":1296,"mtime":1653735429296,"results":"19","hashOfConfig":"13"},{"size":2826,"mtime":1653957633082,"results":"20","hashOfConfig":"13"},{"size":1598,"mtime":1654409127564,"results":"21","hashOfConfig":"13"},{"size":19887,"mtime":1654441143868,"results":"22","hashOfConfig":"13"},{"size":863,"mtime":1654416946840,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1ao4eoy",{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"29"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"29"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"29"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\main.js",[],[],"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\App.vue",[],[],"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\js\\router.js",[],"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\EmployeeList.vue",["51","52","53","54","55","56","57"],"<template>\r\n  <div class=\"d-content\">\r\n    <div class=\"d-page-header\">\r\n      <div class=\"d-page-title\">Nhân viên</div>\r\n      <button\r\n        class=\"d-btn d-btn\"\r\n        id=\"d-btn-add-employee\"\r\n        @click=\"btnAddOnclick\"\r\n      >\r\n        Thêm mới nhân viên\r\n      </button>\r\n    </div>\r\n    <div class=\"d-page-toolbar\">\r\n      <div class=\"d-toolbar-left\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"d-input\"\r\n          v-on:keyup.enter=\"onEnter\"\r\n          v-model=\"textSearch\"\r\n          placeholder=\"Tìm kiếm theo mã, tên nhân viên\"\r\n        />\r\n        <div class=\"icon_search\" @click=\"btnSearchOnClick\"></div>\r\n      </div>\r\n      <div class=\"icon_refresh\" @click=\"btnRefreshOnClick\"></div>\r\n    </div>\r\n\r\n    <div class=\"d-grid\">\r\n      <div class=\"d-grid-table\">\r\n        <table class=\"d-table\">\r\n          <thead>\r\n            <tr>\r\n              <!-- <th class=\"text-align-left ok\">STT</th> -->\r\n              <!-- <th class=\"text-align-center\"><input type=\"checkbox\"></th> -->\r\n              <th class=\"text-align-center ok\" propname=\"checkbox\">\r\n                <input type=\"checkbox\" />\r\n              </th>\r\n              <th class=\"text-align-left ok\" propname=\"EmployeeCode\">\r\n                MÃ NHÂN VIÊN\r\n              </th>\r\n              <th class=\"text-align-left ok\" propname=\"EmployeeName\">\r\n                TÊN NHÂN VIÊN\r\n              </th>\r\n              <th class=\"text-align-left ok\" propname=\"GenderName\">\r\n                GIỚI TÍNH\r\n              </th>\r\n              <th class=\"text-align-center ok\" format=\"Date\">NGÀY SINH</th>\r\n              <th class=\"text-align-left ok\" propname=\"IdentityNumber\">\r\n                SỐ CMND\r\n              </th>\r\n              <th class=\"text-align-left ok\" propname=\"EmployeePosition\">\r\n                CHỨC DANH\r\n              </th>\r\n              <th class=\"text-align-left ok\" propname=\"DepartmentName\">\r\n                TÊN ĐƠN VỊ\r\n              </th>\r\n              <th class=\"text-align-left ok\" propname=\"BankAccountNumber\">\r\n                SỐ TÀI KHOẢN\r\n              </th>\r\n              <th class=\"text-align-left ok\" propname=\"BankName\">\r\n                TÊN NGÂN HÀNG\r\n              </th>\r\n              <th class=\"text-align-left ok\" propname=\"BankBranchName\">\r\n                CHI NHÁNH TK NGÂN HÀNG\r\n              </th>\r\n              <th class=\"text-align-center ok\" propname=\"function\">\r\n                CHỨC NĂNG\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr\r\n              v-for=\"employee in employees\"\r\n              :key=\"employee.EmployeeId\"\r\n              @dblclick=\"trOnDoubleClick(employee)\"\r\n            >\r\n              <td id=\"d-td\" class=\"text-align-center\">\r\n                <input type=\"checkbox\" />\r\n              </td>\r\n              <td class=\"text-align-left\">{{ employee.EmployeeCode }}</td>\r\n              <td class=\"text-align-left\">{{ employee.EmployeeName }}</td>\r\n              <td class=\"text-align-left\">{{ employee.GenderName }}</td>\r\n              <td class=\"text-align-left\">\r\n                {{ formatDate(employee.DateOfBirth) }}\r\n              </td>\r\n              <td class=\"text-align-left\">{{ employee.IdentityNumber }}</td>\r\n              <td class=\"text-align-left\">{{ employee.EmployeePosition }}</td>\r\n              <td class=\"text-align-left\">{{ employee.DepartmentName }}</td>\r\n              <td class=\"text-align-left\">{{ employee.BankAccountNumber }}</td>\r\n              <td class=\"text-align-left\">{{ employee.BankName }}</td>\r\n              <td class=\"text-align-left\">{{ employee.BankBranchName }}</td>\r\n              <td class=\"text-align-center\">\r\n                <div class=\"d-function\">\r\n                  <DropDown\r\n                    :employeeIdForDelete=\"employeeIdForDelete\"\r\n                    @changeValueEmployees=\"changeValueEmployees\"\r\n                  ></DropDown>\r\n                  <div class=\"d-text\">Sửa</div>\r\n                  <div\r\n                    class=\"icon_dropdown\"\r\n                    @click=\"dropdownOnClick(employee.EmployeeId)\"\r\n                  ></div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"d-paging\">\r\n        <div class=\"d-paging-left\">\r\n          Tổng : <b>{{ this.count }}</b> bản ghi\r\n        </div>\r\n        <div class=\"d-paging-center\"></div>\r\n        <div class=\"d-paging-right\">\r\n          <div class=\"d-row\">\r\n            <select name=\"\" class=\"d-combobox\">\r\n              <option value=\"10\">10 bản ghi trên 1 trang</option>\r\n              <option value=\"20\">20 bản ghi trên 1 trang</option>\r\n              <option value=\"30\">30 bản ghi trên 1 trang</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"d-row\">\r\n            <button class=\"d-before\">Trước</button>\r\n            <div class=\"d-group-number-page\">\r\n              <button class=\"btn-page-index btn-page-selected\">1</button>\r\n              <button class=\"btn-page-index\">2</button>\r\n              <button class=\"btn-page-index\">3</button>\r\n              <button class=\"btn-page-index\">...</button>\r\n              <button class=\"btn-page-index\">52</button>\r\n            </div>\r\n            <button class=\"d-after\">Sau</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- showDialog là props của file detail, giá trị nhận là isShowDialog của file EmployeeList -->\r\n    <!-- @isShowDialog là cách ta định nghĩa một phương thức để từ bên detail có thể gọi sang bên list thông qua $emit -->\r\n    <!-- \"employee\" là cách ta truyền trực tiếp từ cliend chứ không thông qua server-->\r\n    <!-- :employeeSelected=\"employeeS\"elected\" -->\r\n    <EmployeeDetail\r\n      @changeValueEmployees=\"changeValueEmployees\"\r\n      v-show=\"isShowDialog\"\r\n      @isShowDialog=\"toggleEmployeeDialog\"\r\n      :employeeIdSelected=\"employeeIdSelected\"\r\n      :employeeSelected=\"employeeSelected\"\r\n      :formMode=\"formDetailMode\"\r\n    ></EmployeeDetail>\r\n    <!-- <EmployeeDetail v-show=\"isShowDialog\" :employeeIdSelected=\"employeeIdSelected\"  :showDialog=\"isShowDialog\" @isShowDialog=\"showEmployeeDialog\"></EmployeeDetail> -->\r\n    <DialogNotice></DialogNotice>\r\n\r\n    <div class=\"loading\" v-show=\"isLoading\">\r\n      <div class=\"loading-icon\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// thêm componants dropdown để thực hiện chức năng nhân bản, xóa\r\nimport DropDown from \"../page/DropDownList.vue\";\r\nimport axios from \"axios\";\r\nimport EmployeeDetail from \"./EmployeeDetail.vue\";\r\nimport DialogNotice from \"./DialogNotice.vue\";\r\nexport default {\r\n  name: \"EmployeeList\",\r\n  components: {\r\n    DropDown,\r\n    EmployeeDetail,\r\n    DialogNotice,\r\n  },\r\n  /**\r\n   * Thực hiện khởi tạo đối tượng employees\r\n   * Author: HVDUNG (05/06/2022)\r\n   */\r\n  async created() {\r\n    try {\r\n      var me = this;\r\n      await axios\r\n        .get(\"https://amis.manhnv.net/api/v1/Employees\")\r\n        .then((response) => {\r\n          me.employees = response.data;\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n      me.isLoading = false;\r\n    } catch (error) {\r\n      me.isLoading = false;\r\n      console.log(error);\r\n    }\r\n  },\r\n  // mounted() {\r\n  //   this.formatDate();\r\n  // },\r\n\r\n  /**\r\n   * THực hiện việc đếm số bản ghi có trong table\r\n   * Author: HVDUNG(05/06/2022)\r\n   */\r\n  beforeUpdate() {\r\n    if (this.employees) this.count = this.employees.length;\r\n    else this.count = 0;\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * thực hiện build lại employees cho cha sau khi thay đổi ở các componants khác (vd: EmployeeDeatails, DropDownList)\r\n     * Author: HVDUNG(06/06/2022)\r\n     */\r\n    changeValueEmployees(value) {\r\n      this.employees = value;\r\n    },\r\n\r\n    /**\r\n     * thực hiện việc ẩn hiện dropdown khi click\r\n     * Author: HVDUNG (02/06/2022)\r\n     */\r\n    dropdownOnClick(employeeId) {\r\n      //mỗi lần click thì sẽ reset lại giá trị display cho mọi tag về none\r\n      // document.getElementsByClassName(\"dropdown\")[0].style.display = \"block\";\r\n      // document.getElementsByClassName(\"d-table tr td:last-child  dropdown\")[0].style.display = \"block\";\r\n      this.isShowDropDown = !this.isShowDropDown;\r\n      if (this.isShowDropDown)\r\n        event.currentTarget.previousSibling.previousSibling.style.display =\r\n          \"block\";\r\n      else\r\n        event.currentTarget.previousSibling.previousSibling.style.display =\r\n          \"none\";\r\n      this.employeeIdForDelete = employeeId;\r\n    },\r\n    /**\r\n     * thực hiện tìm kiếm khi nhấn enter\r\n     * khi tìm kiếm sẽ gọi đến hàm searchOnClick bên dưới\r\n     * Author: HVDUNG(05/06/2022)\r\n     */\r\n    onEnter: function () {\r\n      this.btnSearchOnClick();\r\n    },\r\n    /**\r\n     * Thực hiện show form detail khi click\r\n     * Author: HVDUNG(05/06/2022)\r\n     */\r\n    async btnAddOnclick() {\r\n      // thực hiện xóa đi đường viền đỏ\r\n      document.getElementById(\"EmployeeCode\").classList.remove(\"d-input-error\");\r\n      document.getElementById(\"EmployeeName\").classList.remove(\"d-input-error\");\r\n      this.employeeSelected = {};\r\n      this.toggleEmployeeDialog();\r\n      this.employeeIdSelected = null;\r\n      // gán lại giá trị cho fromDetailMode là thêm mới\r\n      this.formDetailMode = 1;\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} employee là đối tượng emplye Được lấy ở v-for\r\n     * building ra data của employee\r\n     * Author: HVDUNG(05/06/2022)\r\n     */\r\n    trOnDoubleClick(employee) {\r\n      // gán chế độ là update\r\n      this.formDetailMode = 0;\r\n      // thực hiện xóa đi đường viền đỏ\r\n      document.getElementById(\"EmployeeCode\").classList.remove(\"d-input-error\");\r\n      document.getElementById(\"EmployeeName\").classList.remove(\"d-input-error\");\r\n      // hiển thị form chi tiết\r\n      this.toggleEmployeeDialog();\r\n      this.employeeSelected = employee;\r\n      this.employeeIdSelected = employee.EmployeeId;\r\n    },\r\n    // thực hiện việc ẩn hiện form chi tiết\r\n    toggleEmployeeDialog() {\r\n      this.isShowDialog = !this.isShowDialog;\r\n    },\r\n\r\n    /**\r\n     * Thực hiện reload lại dữ liệu khi click\r\n     * Author: HVDUNG(05/06/2022)\r\n     */\r\n    async btnRefreshOnClick() {\r\n      try {\r\n        var me = this;\r\n        me.isLoading = true;\r\n        me.employees = {};\r\n        await axios\r\n          .get(`https://amis.manhnv.net/api/v1/Employees`)\r\n          .then((response) => {\r\n            me.employees = response.data;\r\n            console.log(me.employees);\r\n            me.isLoading = false;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n            me.isLoading = false;\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Thực hiện tìm kiếm khi click\r\n     * Author: HVDUNG(05/06/2022)\r\n     */\r\n    btnSearchOnClick() {\r\n      try {\r\n        var me = this;\r\n        me.isLoading = true;\r\n        axios\r\n          .get(\r\n            `https://amis.manhnv.net/api/v1/Employees/filter?employeeFilter=${this.textSearch}`\r\n          )\r\n          .then((response) => {\r\n            me.employees = response.data.Data;\r\n            me.isLoading = false;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n            me.isLoading = false;\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Thực hiện định dạng lại ngày tháng để hiển thị\r\n     * @param {*} dateOfBirth ngày tháng được truyền vào\r\n     * Author: HVDUNG(05/06/2022)\r\n     */\r\n    formatDate(dateOfBirth) {\r\n      if (dateOfBirth) {\r\n        // chuyển từ dạng string sang dạng Date\r\n        dateOfBirth = new Date(dateOfBirth);\r\n        // lấy ngày\r\n        let date = dateOfBirth.getDate();\r\n        // lấy tháng\r\n        let month = dateOfBirth.getMonth() + 1;\r\n        // lấy năm\r\n        let year = dateOfBirth.getFullYear();\r\n        // thêm số 0 vào trước nếu chỉ có một kí tự\r\n        date = date < 10 ? `0${date}` : date;\r\n        month = month < 10 ? `0${month}` : month;\r\n        return `${date}/${month}/${year}`;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      textSearch: \"\",\r\n      employees: {},\r\n      isShowDialog: false,\r\n      isLoading: true,\r\n      //dùng để lấy data để building lên form chi tiết\r\n      employeeSelected: null,\r\n      // employeeData: {},\r\n      employeeIdSelected: null,\r\n      employeeIdForDelete: null,\r\n      active: false,\r\n      formDetailMode: 0,\r\n      isShowDropDown: false,\r\n      count: 0,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(../../style/css/layout/content.css);\r\n</style>","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\HomeList.vue",[],"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\TheContent.vue",[],"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\TheHeader.vue",[],"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\TheNavbar.vue",[],"C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\DropDownList.vue",["58","59","60"],"<template>\r\n  <div class=\"dropdown\">\r\n    <!-- <div class=\"dropdown-content\">Nhân bản</div>\r\n      <div class=\"dropdown-delete\">Xóa</div>\r\n      <div class=\"dropdown-content\">Ngừng sử dụng</div> -->\r\n    <div>\r\n      <button>Nhân bản</button>\r\n    </div>\r\n    <div>\r\n      <button @click=\"btnOnDelete\">xóa</button>\r\n    </div>\r\n    <div>\r\n      <button>Ngừng sử dụng</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  props: [\"employeeIdForDelete\"],\r\n  data() {\r\n    return {\r\n      employees: {},\r\n    };\r\n  },\r\n  methods: {\r\n    async btnOnDelete() {\r\n      var me = this;\r\n      document.getElementsByClassName(\"loading\")[0].style.display = \"block\";\r\n      await axios\r\n        .delete(\r\n          `https://amis.manhnv.net/api/v1/Employees/${me.employeeIdForDelete}`\r\n        )\r\n        .then(function (res) {\r\n          console.log(res);\r\n          //  alert(\"xóa thành công\");\r\n        })\r\n        .catch(function (res) {\r\n          console.log(res);\r\n        });\r\n      //thực hiện loading lại dữ liệu\r\n      await axios\r\n        .get(`https://amis.manhnv.net/api/v1/Employees`)\r\n        .then(function (res) {\r\n          me.employees = res.data;\r\n          me.$emit(\"changeValueEmployees\", me.employees);\r\n        })\r\n        .catch(function (res) {\r\n          console.log(res);\r\n        });\r\n      // ẩn form dropdown\r\n      document.getElementsByClassName(\"loading\")[0].style.display = \"none\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"../../style/css/components/dropdown.css\");\r\n</style>","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\EmployeeDetail.vue",["61","62","63","64","65","66","67","68"],"<template>\r\n  <div class=\"d-employee-box\">\r\n    <div class=\"d-employee-box-info\">\r\n      <div class=\"header\">\r\n        <div class=\"header-text\">THÔNG TIN NHÂN VIÊN</div>\r\n        <div class=\"header-content\">\r\n          <div class=\"header-checkbox\">\r\n            <input type=\"checkbox\" style=\"width: 18px; height: 18px\" />Là khách\r\n            hàng\r\n          </div>\r\n          <div class=\"header-checkbox\">\r\n            <input type=\"checkbox\" style=\"width: 18px; height: 18px\" />Là nhà\r\n            cung cấp\r\n          </div>\r\n        </div>\r\n        <div class=\"icon_close header-close\" @click=\"btnCloseOnClick\"></div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"content-info\">\r\n          <div class=\"content-info-left\">\r\n            <div class=\"info-input-tr\">\r\n              <div class=\"info-input\">\r\n                <label for=\"\"\r\n                  >Mã nhân viên<span style=\"color: red\">*</span></label\r\n                ><br />\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"employee.EmployeeCode\"\r\n                  class=\"d-input\"\r\n                  id=\"EmployeeCode\"\r\n                  @blur=\"validateCheckInput\"\r\n                  tabindex=\"1\"\r\n                  style=\"width: 150px\"\r\n                />\r\n              </div>\r\n              <div class=\"info-input\">\r\n                <label for=\"\">Họ tên<span style=\"color: red\">*</span></label\r\n                ><br />\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"employee.EmployeeName\"\r\n                  class=\"d-input\"\r\n                  id=\"EmployeeName\"\r\n                  @blur=\"validateCheckInput\"\r\n                  tabindex=\"2\"\r\n                  style=\"width: 235px\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"info-input-tr\">\r\n              <div class=\"info-input\">\r\n                <label for=\"\">đơn vị</label><br />\r\n                <select\r\n                  tabindex=\"7\"\r\n                  v-model=\"employee.DepartmentId\"\r\n                  class=\"cbxDepartment\"\r\n                >\r\n                  <option value=\"142cb08f-7c31-21fa-8e90-67245e8b283e\">\r\n                    phòng nhân sự\r\n                  </option>\r\n                  <option value=\"17120d02-6ab5-3e43-18cb-66948daf6128\">\r\n                    phòng tuyển sinh\r\n                  </option>\r\n                  <option value=\"469b3ece-744a-45d5-957d-e8c757976496\">\r\n                    phòng sản xuất\r\n                  </option>\r\n                  <option value=\"4e272fc4-7875-78d6-7d32-6a1673ffca7c\">\r\n                    phòng đào tạo\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"info-input-tr\">\r\n              <div class=\"info-input\">\r\n                <label for=\"\">Chức danh</label><br />\r\n                <input\r\n                  type=\"input\"\r\n                  class=\"d-input\"\r\n                  v-model=\"employee.EmployeePosition\"\r\n                  tabindex=\"10\"\r\n                  style=\"width: 391px\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"content-info-right\">\r\n            <div class=\"info-input-tr\">\r\n              <div class=\"info-input\">\r\n                <label for=\"\">Ngày sinh</label><br />\r\n                <input\r\n                  type=\"date\"\r\n                  id=\"date_timepicker_end\"\r\n                  v-model=\"employee.DateOfBirth\"\r\n                  class=\"d-input\"\r\n                  tabindex=\"3\"\r\n                  style=\"width: 161px\"\r\n                />\r\n              </div>\r\n              <div class=\"info-input\">\r\n                <label for=\"\">Giới tính</label><br />\r\n                <input\r\n                  name=\"gender\"\r\n                  type=\"radio\"\r\n                  value=\"1\"\r\n                  tabindex=\"4\"\r\n                  v-model=\"employee.Gender\"\r\n                />\r\n                <label for=\"\" style=\"margin-right: 8px\">Nam</label>\r\n                <input\r\n                  name=\"gender\"\r\n                  type=\"radio\"\r\n                  value=\"0\"\r\n                  tabindex=\"5\"\r\n                  v-model=\"employee.Gender\"\r\n                />\r\n                <label for=\"\" style=\"margin-right: 8px\">Nữ</label>\r\n                <input\r\n                  name=\"gender\"\r\n                  type=\"radio\"\r\n                  value=\"2\"\r\n                  tabindex=\"6\"\r\n                  v-model=\"employee.Gender\"\r\n                />\r\n                <label for=\"\">Khác</label>\r\n              </div>\r\n            </div>\r\n            <div class=\"info-input-tr\">\r\n              <div class=\"info-input\">\r\n                <label for=\"\">Số CMND</label><br />\r\n                <input\r\n                  type=\"input\"\r\n                  v-model=\"employee.IdentityNumber\"\r\n                  class=\"d-input\"\r\n                  date=\"\"\r\n                  tabindex=\"8\"\r\n                  style=\"width: 245px\"\r\n                />\r\n              </div>\r\n              <div class=\"info-input\">\r\n                <label for=\"\">Ngày cấp</label><br />\r\n                <input\r\n                  type=\"date\"\r\n                  v-model=\"employee.IdentityDate\"\r\n                  class=\"d-input\"\r\n                  date=\"\"\r\n                  tabindex=\"9\"\r\n                  style=\"width: 140px\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"info-input-tr\">\r\n              <div class=\"info-input\">\r\n                <label for=\"\">Nơi cấp</label><br />\r\n                <input\r\n                  type=\"input\"\r\n                  v-model=\"employee.IdentityPlace\"\r\n                  class=\"d-input\"\r\n                  date=\"\"\r\n                  tabindex=\"11\"\r\n                  style=\"width: 391px\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"info-input-tr\" style=\"margin-top: 40px\">\r\n          <div class=\"info-input\">\r\n            <label for=\"\">Địa chỉ</label>\r\n            <input\r\n              type=\"input\"\r\n              class=\"d-input\"\r\n              v-model=\"employee.Address\"\r\n              tabindex=\"12\"\r\n              style=\"width: 812px\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"content-info-bottom\">\r\n          <div class=\"info-input-tr\">\r\n            <div class=\"info-input\">\r\n              <label for=\"\">ĐT di động</label><br />\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"employee.PhoneNumber\"\r\n                class=\"d-input\"\r\n                id=\"EmployeeCode\"\r\n                tabindex=\"13\"\r\n                style=\"width: 150px\"\r\n              />\r\n            </div>\r\n            <div class=\"info-input\">\r\n              <label for=\"\">ĐT cố định</label><br />\r\n              <input\r\n                type=\"text\"\r\n                class=\"d-input\"\r\n                id=\"EmployeeName\"\r\n                v-model=\"employee.TelephoneNumber\"\r\n                tabindex=\"14\"\r\n                style=\"width: 235px\"\r\n              />\r\n            </div>\r\n            <div class=\"info-input\">\r\n              <label for=\"\">Email</label><br />\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"employee.Email\"\r\n                class=\"d-input\"\r\n                id=\"EmployeeName\"\r\n                tabindex=\"15\"\r\n                style=\"width: 235px\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"info-input-tr\">\r\n            <div class=\"info-input\">\r\n              <label for=\"\">Tài khoản ngân hàng</label><br />\r\n              <input\r\n                type=\"text\"\r\n                class=\"d-input\"\r\n                id=\"EmployeeCode\"\r\n                v-model=\"employee.BankAccountNumber\"\r\n                tabindex=\"16\"\r\n                style=\"width: 150px\"\r\n              />\r\n            </div>\r\n            <div class=\"info-input\">\r\n              <label for=\"\">Tên ngân hàng</label><br />\r\n              <input\r\n                type=\"text\"\r\n                class=\"d-input\"\r\n                id=\"EmployeeName\"\r\n                v-model=\"employee.BankName\"\r\n                tabindex=\"17\"\r\n                style=\"width: 235px\"\r\n              />\r\n            </div>\r\n            <div class=\"info-input\">\r\n              <label for=\"\">Chi nhánh</label><br />\r\n              <input\r\n                type=\"text\"\r\n                class=\"d-input\"\r\n                id=\"EmployeeName\"\r\n                v-model=\"employee.BankBranchName\"\r\n                tabindex=\"18\"\r\n                style=\"width: 235px\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"footer\">\r\n          <div class=\"footer-line\"></div>\r\n          <div class=\"footer-button\">\r\n            <button\r\n              class=\"d-btn d-btn-cancel d-btn-footer-left\"\r\n              id=\"d-btn-close\"\r\n              tabindex=\"21\"\r\n              @blur=\"focusInputFirst\"\r\n            >\r\n              Hủy\r\n            </button>\r\n            <button\r\n              class=\"d-btn d-btn-save\"\r\n              id=\"d-btn-save\"\r\n              tabindex=\"20\"\r\n              @click=\"btnSaveOnClick\"\r\n            >\r\n              Cất\r\n            </button>\r\n            <button\r\n              class=\"d-btn d-btn-save-add\"\r\n              id=\"d-btn-save-add\"\r\n              tabindex=\"19\"\r\n            >\r\n              Cất và Thêm\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  /**\r\n   * employeeSelected để nhận biết sự thay đổi khi click vào và update lại dữ liệu runtime\r\n   * employeeIdSelected để nhận về id của đối tượng được click\r\n   * formMode để nhận biết là thêm mới hay update\r\n   */\r\n  props: [\"employeeSelected\", \"employeeIdSelected\", \"formMode\"],\r\n  data() {\r\n    return {\r\n      employee: {},\r\n    };\r\n  },\r\n\r\n  /**\r\n   * beforeupdate dữ liệu thay đổi runtime (dữ liệu được quét liên tục khi có sự thay đổi)\r\n   * nếu không tương tác với các thành phần được gọi trong beforeupdate thì nó sẽ không được thực hiện\r\n   * => là yếu điểm của nó  (đây không phải là dữ liệu tối ưu)\r\n   */\r\n  beforeUpdate() {\r\n    // có thể áp dụng thử để làm chức năng tìm kiếm\r\n  },\r\n  // giống như camare theo dõi sự thay đổi của các phương thức chứa trong nó\r\n  watch: {\r\n    //   showDialog: function(value){\r\n    //       alert(value);\r\n    //   },\r\n    /**\r\n     * thực hiện lấy dữ liệu từ cliend và trả về cho form chi tiết => dữ liệu được binding trực tiếp luôn khi sửa\r\n     *  (không lấy đc dữ liệu mới nhất)\r\n     * không cần thực hiện loading lại dữ liệu\r\n     * @param {object} value là object nhân được khi click\r\n     */\r\n    // employeeSelected: function (value) {\r\n    //   // tận dụng sự thay đổi mỗi khi hàm watch thực hiện ta sữ thực hiện building luôn dữ liệu\r\n    //   //gán dữ liệu lại cho employee bằng chính employeeselected được chọn\r\n    //   this.employee = value;\r\n    //   // forcus vào ô nhập liệu đầu tiên\r\n    //   document.getElementById(\"EmployeeCode\").focus();\r\n    // },\r\n\r\n    /**\r\n     * thực hiện lấy dữ liệu trực tiếp từ server về thông qua api => dữ liệu luôn là mới nhất(mất thời gian chờ đợi)\r\n     * phải thực hiện loading lại dữ liệu nếu thêm mới, update, sửa thành công\r\n     */\r\n    employeeIdSelected: function (value) {\r\n      // kiểm tra xem id có tồn tại hay không\r\n      var me = this;\r\n      if (value) {\r\n        axios\r\n          .get(\r\n            `https://amis.manhnv.net/api/v1/Employees/${me.employeeIdSelected}`\r\n          )\r\n          .then(function (res) {\r\n            switch (res.status) {\r\n              case 200:\r\n                // thực hiện focus vào ô nhập liệu đầu tiên\r\n                document.getElementById(\"EmployeeCode\").focus();\r\n                // gán lại data cho employee\r\n                me.employee = res.data;\r\n                me.employee.DateOfBirth = me.formatDate(\r\n                  me.employee.DateOfBirth\r\n                );\r\n                break;\r\n              case 201:\r\n                break;\r\n\r\n              default:\r\n                break;\r\n            }\r\n          })\r\n          .catch(function (res) {\r\n            console.log(res);\r\n          });\r\n      } else {\r\n        // nếu không có id thì gán lại employee là null\r\n        me.employee = {};\r\n        // gán lại dateOfBirth là null\r\n        me.dateOfBirth = null;\r\n        // gọi API lấy mã nhân viên\r\n        axios\r\n          .get(\"https://amis.manhnv.net/api/v1/Employees/NewEmployeeCode\")\r\n          .then(function (res) {\r\n            me.employee.EmployeeCode = res.data;\r\n            // thực hiện focus vào ô nhập liệu đầu tiên\r\n            document.getElementById(\"EmployeeCode\").focus();\r\n          })\r\n          .catch(function (res) {\r\n            console.log(res);\r\n          });\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    /**\r\n     * thực hiện focus vào ô nhập liệu đầu tiên khi nó đến input cuối cùng\r\n     * Author: HVDUNG (03/06/2022)\r\n     */\r\n    focusInputFirst() {\r\n      document.getElementById(\"EmployeeCode\").focus();\r\n    },\r\n    /**\r\n     * Thực hiện format lại ngày tháng để có thể hiển thị được trên form detail\r\n     * Author: HVDUNG (03/06/2022)\r\n     */\r\n    formatDate(dateOfBirth) {\r\n      if (dateOfBirth) {\r\n        // chuyển từ dạng string sang dạng Date\r\n        dateOfBirth = new Date(dateOfBirth);\r\n        // lấy ngày\r\n        let date = dateOfBirth.getDate();\r\n        // lấy tháng\r\n        let month = dateOfBirth.getMonth() + 1;\r\n        // lấy năm\r\n        let year = dateOfBirth.getFullYear();\r\n        // thêm số 0 vào trước nếu chỉ có một kí tự\r\n        date = date < 10 ? `0${date}` : date;\r\n        month = month < 10 ? `0${month}` : month;\r\n        return `${year}-${month}-${date}`;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n    /**\r\n     * thực hiện validate xem dữ liệu có bị trống hay không\r\n     * Author: HVDUNG (02/06/2022)\r\n     */\r\n    validateCheckInput(event) {\r\n      //theo cách dùng thuần\r\n      //1. lấy ra giá trị input nhập vào\r\n      let value = event.currentTarget.value;\r\n      //  2. kiểm tra value có rỗng hay không\r\n      if (!value) {\r\n        // thêm class vào trong input\r\n        event.currentTarget.classList.add(\"d-input-error\");\r\n        // thêm câu cảnh báo khi hover\r\n        event.currentTarget.setAttribute(\r\n          \"title\",\r\n          \"thông tin không được để trống\"\r\n        );\r\n      } else {\r\n        event.currentTarget.classList.remove(\"d-input-error\");\r\n        event.currentTarget.setAttribute(\"title\", \"\");\r\n      }\r\n    },\r\n\r\n    async created() {\r\n      try {\r\n        var me = this;\r\n        await axios\r\n          .get(\"https://amis.manhnv.net/api/v1/Employees\")\r\n          .then((response) => {\r\n            me.employees = response.data;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    /**\r\n     * thực hiện lưu khi người dùng click nứt lưu\r\n     * Author: HVDUNG (02/06/2022)\r\n     */\r\n    async btnSaveOnClick() {\r\n      var me = this;\r\n      //1. validate dữ liệu\r\n      var isValid = true;\r\n      var arrayErrors = [];\r\n      if (!me.employee.EmployeeCode) {\r\n        isValid = false;\r\n        arrayErrors.push(\"Mã nhân viên không được phép để trống\");\r\n      }\r\n      if (!me.employee.EmployeeName) {\r\n        isValid = false;\r\n        arrayErrors.push(\"Tên nhân viên không được phép để trống\");\r\n      }\r\n      if (!me.employee.DepartmentId) {\r\n        isValid = false;\r\n        arrayErrors.push(\"Phòng ban không được phép để trống\");\r\n      }\r\n      // convert về dạng ngày tháng thì mới có thể so sánh được\r\n      var dateCurrent = document.getElementById(\"date_timepicker_end\").value;\r\n      dateCurrent = new Date(dateCurrent);\r\n      if (dateCurrent > new Date()) {\r\n        isValid = false;\r\n        arrayErrors.push(\"Ngày sinh không được phép lớn hơn ngày hiện tại\");\r\n      }\r\n      if (!isValid) {\r\n        //hiển thị thông báo validate không hợp lệ\r\n        let noticeDialog = document.getElementsByClassName(\"d-dialog-box\")[0];\r\n        let bodyTextNoticeDialog = noticeDialog.querySelector(\".d-dialog-body\");\r\n        bodyTextNoticeDialog.innerHTML = \"\";\r\n        //append nội dung thông báo\r\n        arrayErrors.forEach((errorMsg) => {\r\n          var el = document.createElement(\"div\");\r\n          el.innerHTML = `-${errorMsg}`;\r\n          bodyTextNoticeDialog.append(el);\r\n        });\r\n        document.getElementsByClassName(\"d-dialog-box\")[0].style.display =\r\n          \"block\";\r\n        return;\r\n      }\r\n      if (isValid) {\r\n        //3. gọi api thực hiện thêm mới hoặc update\r\n        if (me.formMode == 1) {\r\n          //thực hiện loading lại dữ liệu\r\n          document.getElementsByClassName(\"loading\")[0].style.display = \"block\";\r\n          await axios\r\n            .post(\"https://amis.manhnv.net/api/v1/Employees\", me.employee)\r\n            .then(function (res) {\r\n              console.log(res);\r\n              // dùng tạm thời => phải dùng toast msg\r\n            })\r\n            .catch(function (res) {\r\n              let error = res.response.status;\r\n              switch (error) {\r\n                case 400:\r\n                case 500:\r\n                  // hiển thị thông báo lỗi khi thêm mới\r\n                  alert(res.response.data[\"userMsg\"]);\r\n                  break;\r\n\r\n                default:\r\n                  break;\r\n              }\r\n            });\r\n        } else {\r\n          //thực hiện loading lại dữ liệu\r\n          document.getElementsByClassName(\"loading\")[0].style.display = \"block\";\r\n          await axios\r\n            .put(\r\n              `https://amis.manhnv.net/api/v1/Employees/${me.employeeIdSelected}`,\r\n              me.employee\r\n            )\r\n            .then(function (res) {\r\n              console.log(res);\r\n            })\r\n            .catch(function (res) {\r\n              console.log(res);\r\n            });\r\n        }\r\n        await axios\r\n          .get(`https://amis.manhnv.net/api/v1/Employees`)\r\n          .then(function (res) {\r\n            me.employees = res.data;\r\n            me.$emit(\"changeValueEmployees\", me.employees);\r\n            document.getElementsByClassName(\"loading\")[0].style.display =\r\n              \"none\";\r\n          })\r\n          .catch(function (res) {\r\n            document.getElementsByClassName(\"loading\")[0].style.display =\r\n              \"none\";\r\n            console.log(res);\r\n          });\r\n        // thực hiện đóng form chi tiết\r\n        this.$emit(\"isShowDialog\");\r\n      }\r\n      //2. build object thông tin nhân viên\r\n\r\n      //4. nếu thêm mới thành công thì hiện toast msg thông báo thành công\r\n\r\n      //5. nếu có lỗi validate hoặc lỗi từ backend thì hiển thị thông báo tương ứng\r\n    },\r\n    /**\r\n     * Thực hiện đóng form chi tiết khi click\r\n     * Author: HVDUNG(05/06/2022)\r\n     */\r\n    btnCloseOnClick() {\r\n      this.$emit(\"isShowDialog\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(../../style/css/page/employee-info.css);\r\n@import url(../../style/css/icon/icon.css);\r\n</style>","C:\\Users\\hdung\\source\\repos\\web2022_04\\Vue\\amis-ketoan\\src\\components\\page\\DialogNotice.vue",[],{"ruleId":"69","severity":1,"message":"70","line":182,"column":11,"nodeType":"71","messageId":"72","endLine":182,"endColumn":22},{"ruleId":"69","severity":1,"message":"70","line":187,"column":7,"nodeType":"71","messageId":"72","endLine":187,"endColumn":18},{"ruleId":"69","severity":1,"message":"70","line":286,"column":13,"nodeType":"71","messageId":"72","endLine":286,"endColumn":24},{"ruleId":"69","severity":1,"message":"70","line":290,"column":13,"nodeType":"71","messageId":"72","endLine":290,"endColumn":24},{"ruleId":"69","severity":1,"message":"70","line":294,"column":9,"nodeType":"71","messageId":"72","endLine":294,"endColumn":20},{"ruleId":"69","severity":1,"message":"70","line":315,"column":13,"nodeType":"71","messageId":"72","endLine":315,"endColumn":24},{"ruleId":"69","severity":1,"message":"70","line":319,"column":9,"nodeType":"71","messageId":"72","endLine":319,"endColumn":20},{"ruleId":"69","severity":1,"message":"70","line":36,"column":11,"nodeType":"71","messageId":"72","endLine":36,"endColumn":22},{"ruleId":"69","severity":1,"message":"70","line":40,"column":11,"nodeType":"71","messageId":"72","endLine":40,"endColumn":22},{"ruleId":"69","severity":1,"message":"70","line":50,"column":11,"nodeType":"71","messageId":"72","endLine":50,"endColumn":22},{"ruleId":"69","severity":1,"message":"70","line":357,"column":13,"nodeType":"71","messageId":"72","endLine":357,"endColumn":24},{"ruleId":"69","severity":1,"message":"70","line":373,"column":13,"nodeType":"71","messageId":"72","endLine":373,"endColumn":24},{"ruleId":"69","severity":1,"message":"70","line":440,"column":13,"nodeType":"71","messageId":"72","endLine":440,"endColumn":24},{"ruleId":"69","severity":1,"message":"70","line":443,"column":9,"nodeType":"71","messageId":"72","endLine":443,"endColumn":20},{"ruleId":"69","severity":1,"message":"70","line":497,"column":15,"nodeType":"71","messageId":"72","endLine":497,"endColumn":26},{"ruleId":"69","severity":1,"message":"70","line":522,"column":15,"nodeType":"71","messageId":"72","endLine":522,"endColumn":26},{"ruleId":"69","severity":1,"message":"70","line":525,"column":15,"nodeType":"71","messageId":"72","endLine":525,"endColumn":26},{"ruleId":"69","severity":1,"message":"70","line":539,"column":13,"nodeType":"71","messageId":"72","endLine":539,"endColumn":24},"no-console","Unexpected console statement.","MemberExpression","unexpected"]